<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- board.xml -->
<mapper namespace="board">

	<!-- 게시글 입력 -->
	<insert id="insertBoard">
		insert into board (board_no,member_email,board_type,board_title,board_cont,board_img,board_date,board_alti,board_long) 
					values (board_seq.nextval,#{member_email},#{board_type},#{board_title},#{board_cont},#{board_img},sysdate,#{board_alti},#{board_long})
		<!-- insert into board (board_no,member_email,board_type,board_title,board_cont,board_date,board_alti,board_long) 
					values (board_seq.nextval,#{member_email},#{board_type},#{board_title},#{board_cont},sysdate,#{board_alti},#{board_long}) -->
	</insert>
	
	<!-- 특정 게시글 보기 -->
	<select id="readBoard" resultType="BoardVO">
		select board_no,member_email,board_type,board_title,board_cont,board_img,board_date,board_alti,board_long 
		from board
		where board_no=#{board_no}
	</select>
	
	<!-- 좋아요 버튼 -->
	<!-- 좋아요 버튼 누르기 -->
	<insert id="addLikeBt">
		insert into likebt (likebt_ch,board_no,member_email) 
					values (#{likebt_ch},#{board_no},#{member_email})
	</insert>
	
	<!-- 좋아요 수 업데이트 -->
	<update id="upLike">
		update board set board_like=board_like+1 where board_no=#{board_no}
	</update>
	
	<!-- 좋아요 수 카운트 -->
	<select id="countLike" resultType="int">
		select board_like from board where board_no=#{board_no}
	</select>
	
</mapper>